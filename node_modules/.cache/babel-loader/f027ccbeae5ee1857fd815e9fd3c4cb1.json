{"ast":null,"code":"import _objectSpread from\"D:/B.IIUC/Varsity Project for github/Real Estate Front End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/B.IIUC/Varsity Project for github/Real Estate Front End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState}from'react';import'../../asset/css/test.css';import{Button,Col,Container,Row}from\"react-bootstrap\";import{useForm}from\"react-hook-form\";import{Link,useHistory,useLocation}from\"react-router-dom\";import useAuth from'../../hooks/useAuth';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _location$state;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loginError=_useState4[0],setLoginError=_useState4[1];var _useAuth=useAuth(),loginWithEmail=_useAuth.loginWithEmail,setIsLoading=_useAuth.setIsLoading;var history=useHistory();var location=useLocation();var redirect_url=((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.from)||\"/\";var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset,errors=_useForm.formState.errors;var onSubmit=function onSubmit(data){console.log(data);setLoginError(false);setError(false);if(data.email===\"\"||data.password===\"\"){setError(true);return;}loginWithEmail(data.email,data.password).then(function(result){alert(\"Login Successfull\");setIsLoading(false);history.push(redirect_url);}).catch(function(err){setLoginError(true);}).finally(setIsLoading(false));reset();};return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(Container,{fluid:true,className:\"topFixedPage p-5\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Container,{className:\"loginBox\",children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{lg:6,md:6,sm:12,children:/*#__PURE__*/_jsxs(\"form\",{noValidate:true,autoComplete:\"off\",onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"h3\",{className:\"logIn\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"loginText\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"email\")),{},{type:\"email\",className:\"form-control\",placeholder:\"Enter email\"}))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"loginText\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"password\")),{},{type:\"password\",className:\"form-control\",placeholder:\"Enter password\"}))]}),/*#__PURE__*/_jsx(Button,{variant:\"success\",type:\"submit\",className:\"my-3\",children:\"Sign in\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\",letterSpacing:\"1px\",marginTop:\"5px\"},children:\"input fields cannot be empty\"}),loginError&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\",letterSpacing:\"1px\",marginTop:\"3px\"},children:\"Invalid Email or Password\"}),/*#__PURE__*/_jsxs(\"p\",{style:{letterSpacing:\"1px\",margin:\"3px 0\",color:\"#fff\"},children:[\"Not have an account?\",/*#__PURE__*/_jsx(Link,{to:{pathname:\"/register\",query:{redirect_url:redirect_url}},style:{color:\"lightBlue\",textDecoration:\"none\"},children:\"Register!\"})]})]})})})})})})});};export default Login;","map":{"version":3,"sources":["D:/B.IIUC/Varsity Project for github/Real Estate Front End/src/components/Login/Login.js"],"names":["React","Fragment","useState","Button","Col","Container","Row","useForm","Link","useHistory","useLocation","useAuth","Login","error","setError","loginError","setLoginError","loginWithEmail","setIsLoading","history","location","redirect_url","state","from","register","handleSubmit","reset","errors","formState","onSubmit","data","console","log","email","password","then","result","alert","push","catch","err","finally","color","letterSpacing","marginTop","margin","pathname","query","textDecoration"],"mappings":"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","sourcesContent":["import React, {Fragment, useState} from 'react';\r\nimport '../../asset/css/test.css';\r\nimport {Button, Col, Container, Row} from \"react-bootstrap\";\r\n\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\r\nimport useAuth from '../../hooks/useAuth';\r\n\r\n\r\n\r\nconst Login = () => {\r\n    const [error, setError] = useState(false);\r\n    const [loginError, setLoginError] = useState(false);\r\n    const { loginWithEmail, setIsLoading} = useAuth();\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n    const redirect_url = location.state?.from || \"/\";\r\n  \r\n    const {\r\n      register,\r\n      handleSubmit,\r\n      reset,\r\n      formState: { errors },\r\n    } = useForm();\r\n  \r\n    const onSubmit = (data) => {\r\n        console.log(data)\r\n      setLoginError(false);\r\n      setError(false);\r\n  \r\n      if (data.email === \"\" || data.password === \"\") {\r\n        setError(true);\r\n        return;\r\n      }\r\n      loginWithEmail(data.email, data.password)\r\n      .then((result) => {\r\n        alert(\"Login Successfull\")\r\n        setIsLoading(false);\r\n        history.push(redirect_url);\r\n      })\r\n      .catch((err) => {\r\n        setLoginError(true);\r\n      })\r\n      .finally(setIsLoading(false));\r\n      \r\n  \r\n      reset();\r\n    };\r\n    return (\r\n        <Fragment>\r\n            <Container fluid={true} className=\"topFixedPage p-5\">\r\n                <div>\r\n                    <Container className=\"loginBox\">\r\n                        <Row>\r\n\r\n                            <Col lg={6} md={6} sm={12}>\r\n                                <form  noValidate\r\n              autoComplete=\"off\"\r\n              onSubmit={handleSubmit(onSubmit)}>\r\n\r\n                                    <h3 className=\"logIn\">Login</h3>\r\n\r\n                                    <div className=\"form-group\">\r\n                                        <label className=\"loginText\">Email</label>\r\n                                        <input  {...register(\"email\")} type=\"email\" className=\"form-control\" placeholder=\"Enter email\"\r\n                                              />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group\">\r\n                                        <label className=\"loginText\">Password</label>\r\n                                        <input {...register(\"password\")} type=\"password\" className=\"form-control\"\r\n                                               placeholder=\"Enter password\" />\r\n                                    </div>\r\n\r\n                                    <Button variant=\"success\" type=\"submit\" className='my-3'>Sign in</Button>\r\n                                    {error && (\r\n                <p style={{ color: \"red\", letterSpacing: \"1px\",marginTop:\"5px\" }}>\r\n                  input fields cannot be empty\r\n                </p>\r\n              )}\r\n               {loginError && (\r\n                <p style={{ color: \"red\", letterSpacing: \"1px\",marginTop:\"3px\" }}>\r\n                  Invalid Email or Password\r\n                </p>\r\n              )}\r\n                                   <p style={{ letterSpacing: \"1px\", margin: \"3px 0\" ,color:\"#fff\"}}>\r\n                Not have an account?\r\n                <Link\r\n                  to={{ pathname: \"/register\", query: { redirect_url } }}\r\n                  style={{ color: \"lightBlue\", textDecoration: \"none\" }}\r\n                >\r\n                  Register!\r\n                </Link>\r\n              </p>\r\n                                </form>\r\n                            </Col>\r\n\r\n\r\n                        </Row>\r\n                    </Container>\r\n                </div>\r\n\r\n\r\n            </Container>\r\n\r\n\r\n        </Fragment>\r\n    )\r\n\r\n}\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}