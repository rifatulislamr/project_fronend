{"ast":null,"code":"import _objectSpread from\"G:/Final Project Agro Farmer/Digital-Krishi-Kamar-frontend-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"G:/Final Project Agro Farmer/Digital-Krishi-Kamar-frontend-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";var _excluded=[\"children\"];import React from\"react\";import{Redirect,Route}from\"react-router-dom\";import useAuth from\"../hooks/useAuth\";import{jsx as _jsx}from\"react/jsx-runtime\";var PrivateRoute=function PrivateRoute(_ref){var children=_ref.children,rest=_objectWithoutProperties(_ref,_excluded);var _useAuth=useAuth(),user=_useAuth.user,isLoading=_useAuth.isLoading;if(isLoading){return/*#__PURE__*/_jsx(\"div\",{style:{width:\"100vw\",height:\"30vw\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},children:/*#__PURE__*/_jsx(\"div\",{class:\"spinner-border\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{class:\"visually-hidden\",children:\"Loading...\"})})});}return/*#__PURE__*/_jsx(Route,_objectSpread(_objectSpread({},rest),{},{render:function render(_ref2){var location=_ref2.location;if(user===null||user===void 0?void 0:user.email)return children;else if(!(user===null||user===void 0?void 0:user.email)){return/*#__PURE__*/_jsx(Redirect,{to:{pathname:\"/login\",state:{from:location}}});}}}));};export default PrivateRoute;","map":{"version":3,"sources":["G:/Final Project Agro Farmer/Digital-Krishi-Kamar-frontend-main/src/PrivateRoute/PrivateRoute.js"],"names":["React","Redirect","Route","useAuth","PrivateRoute","children","rest","user","isLoading","width","height","display","justifyContent","alignItems","location","email","pathname","state","from"],"mappings":"0ZACA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,CAAmBC,KAAnB,KAAgC,kBAAhC,CACA,MAAOC,CAAAA,OAAP,KAAoB,kBAApB,C,2CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAA2B,IAAxBC,CAAAA,QAAwB,MAAxBA,QAAwB,CAAXC,IAAW,0CAC9C,aAA4BH,OAAO,EAAnC,CAAQI,IAAR,UAAQA,IAAR,CAAcC,SAAd,UAAcA,SAAd,CACA,GAAIA,SAAJ,CAAe,CACb,mBACC,YAAK,KAAK,CAAE,CAACC,KAAK,CAAC,OAAP,CAAeC,MAAM,CAAC,MAAtB,CAA6BC,OAAO,CAAC,MAArC,CAA4CC,cAAc,CAAC,QAA3D,CAAoEC,UAAU,CAAC,QAA/E,CAAZ,uBACG,YAAK,KAAK,CAAC,gBAAX,CAA4B,IAAI,CAAC,QAAjC,uBACN,aAAM,KAAK,CAAC,iBAAZ,wBADM,EADH,EADD,CAOD,CACD,mBACE,KAAC,KAAD,gCACMP,IADN,MAEE,MAAM,CAAE,sBAAiB,IAAdQ,CAAAA,QAAc,OAAdA,QAAc,CACvB,GAAGP,IAAH,SAAGA,IAAH,iBAAGA,IAAI,CAAEQ,KAAT,CAAgB,MAAOV,CAAAA,QAAP,CAAhB,IACK,IAAG,EAACE,IAAD,SAACA,IAAD,iBAACA,IAAI,CAAEQ,KAAP,CAAH,CAAgB,CACnB,mBAAO,KAAC,QAAD,EACP,EAAE,CAAE,CACFC,QAAQ,CAAE,QADR,CAEFC,KAAK,CAAE,CAAEC,IAAI,CAAEJ,QAAR,CAFL,CADG,EAAP,CAMD,CAEF,CAbH,GADF,CAmBD,CA9BD,CAgCA,cAAeV,CAAAA,YAAf","sourcesContent":["\nimport React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport useAuth from \"../hooks/useAuth\";\n\n\n\nconst PrivateRoute = ({ children, ...rest }) => {\n  const { user, isLoading } = useAuth();\n  if (isLoading) {\n    return (\n     <div style={{width:\"100vw\",height:\"30vw\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\n        <div class=\"spinner-border\" role=\"status\">\n  <span class=\"visually-hidden\">Loading...</span>\n</div>\n     </div>\n    );\n  }\n  return (\n    <Route\n      {...rest}\n      render={({ location }) =>{\n        if(user?.email) return children\n        else if(!user?.email){\n          return <Redirect\n          to={{\n            pathname: \"/login\",\n            state: { from: location },\n          }}\n        />\n        }\n\n      }\n       \n      }\n    />\n  );\n};\n\nexport default PrivateRoute;\n\n"]},"metadata":{},"sourceType":"module"}