{"ast":null,"code":"import _objectSpread from\"G:/Final Project Agro Farmer/Digital-Krishi-Kamar-frontend-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"G:/Final Project Agro Farmer/Digital-Krishi-Kamar-frontend-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState}from'react';import'../../asset/css/test.css';import{Button,Col,Container,Row}from\"react-bootstrap\";import{useForm}from\"react-hook-form\";import{Link,useHistory,useLocation}from\"react-router-dom\";import useAuth from'../../hooks/useAuth';import{textAlign}from'@mui/system';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _location$state;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loginError=_useState4[0],setLoginError=_useState4[1];var _useAuth=useAuth(),loginWithEmail=_useAuth.loginWithEmail,setIsLoading=_useAuth.setIsLoading;var history=useHistory();var location=useLocation();var redirect_url=((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.from)||\"/dashboard\";var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset,errors=_useForm.formState.errors;var onSubmit=function onSubmit(data){console.log(data);setLoginError(false);setError(false);if(data.email===\"\"||data.password===\"\"){setError(true);return;}loginWithEmail(data.email,data.password).then(function(result){alert(\"Login Successfull\");setIsLoading(false);history.push(redirect_url);}).catch(function(err){setLoginError(true);}).finally(setIsLoading(false));reset();};return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(Container,{fluid:true,className:\"topFixedPage p-5 \",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Container,{className:\"loginBox \",children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(\"form\",{style:{borderRadius:'1rem',maxWidth:'400px'},noValidate:true,autoComplete:\"off\",onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"h3\",{className:\"logIn\",children:\"SIGN IN\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"loginSubHead\",children:\"Please enter your login and password!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"loginText\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"email\")),{},{type:\"email\",className:\"form-control\",style:{borderRadius:\"20px\"},placeholder:\"Enter email\"}))]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"loginText\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"password\")),{},{type:\"password\",style:{borderRadius:\"20px\"},className:\"form-control\",placeholder:\"Enter password\"}))]}),/*#__PURE__*/_jsx(Button,{variant:\"success\",type:\"submit\",className:\"my-3\",children:\"Sign in\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\",letterSpacing:\"1px\",marginTop:\"5px\"},children:\"input fields cannot be empty\"}),loginError&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\",letterSpacing:\"1px\",marginTop:\"3px\"},children:\"Invalid Email or Password\"}),/*#__PURE__*/_jsxs(\"p\",{style:{letterSpacing:\"1px\",margin:\"3px 0\",marginTop:\"5rem \",color:\"#fff\",textAlign:\"center\"},children:[\"Not have an account?\",/*#__PURE__*/_jsx(Link,{to:\"/registration\",style:{color:\"lightBlue\",textDecoration:\"none\"},children:\"Register!\"})]})]})})})})})});};export default Login;","map":{"version":3,"sources":["G:/Final Project Agro Farmer/Digital-Krishi-Kamar-frontend-main/src/components/Login/Login.js"],"names":["React","Fragment","useState","Button","Col","Container","Row","useForm","Link","useHistory","useLocation","useAuth","textAlign","Login","error","setError","loginError","setLoginError","loginWithEmail","setIsLoading","history","location","redirect_url","state","from","register","handleSubmit","reset","errors","formState","onSubmit","data","console","log","email","password","then","result","alert","push","catch","err","finally","borderRadius","maxWidth","color","letterSpacing","marginTop","margin","textDecoration"],"mappings":"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","sourcesContent":["import React, {Fragment, useState} from 'react';\nimport '../../asset/css/test.css';\nimport {Button, Col, Container, Row} from \"react-bootstrap\";\n\nimport { useForm } from \"react-hook-form\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport useAuth from '../../hooks/useAuth';\nimport { textAlign } from '@mui/system';\n\n\n\nconst Login = () => {\n    const [error, setError] = useState(false);\n    const [loginError, setLoginError] = useState(false);\n    const { loginWithEmail, setIsLoading} = useAuth();\n    const history = useHistory();\n    const location = useLocation();\n    const redirect_url = location.state?.from || \"/dashboard\";\n  \n    const {\n      register,\n      handleSubmit,\n      reset,\n      formState: {errors},\n    } = useForm();\n  \n    const onSubmit = (data) => {\n        console.log(data)\n      setLoginError(false);\n      setError(false);\n  \n      if (data.email === \"\" || data.password === \"\") {\n        setError(true);\n        return;\n      }\n      loginWithEmail(data.email, data.password)\n      .then((result) => {\n        alert(\"Login Successfull\")\n        setIsLoading(false);\n        history.push(redirect_url);\n      })\n      .catch((err) => {\n        setLoginError(true);\n      })\n      .finally(setIsLoading(false));\n      \n  \n      reset();\n    };\n    return (\n        <Fragment>\n            <Container fluid={true} className=\"topFixedPage p-5 \">\n                <div>\n                    <Container className=\"loginBox \">\n                        <Row>\n\n                            \n                                <form style={{borderRadius: '1rem', maxWidth: '400px'}} noValidate\n              autoComplete=\"off\"\n              onSubmit={handleSubmit(onSubmit)}>\n\n                                    <h3 className=\"logIn\">SIGN IN</h3>\n                                    <h5 className=\"loginSubHead\">Please enter your login and password!</h5>\n\n                                    <div className=\"form-group\">\n                                        <label className=\"loginText\">Email</label>\n                                        <input  {...register(\"email\")} type=\"email\" className=\"form-control\" style={{borderRadius:\"20px\"}} placeholder=\"Enter email\"\n                                              />\n                                    </div>\n<br/>\n                                    <div className=\"form-group\">\n                                        <label className=\"loginText\">Password</label>\n                                        <input {...register(\"password\")} type=\"password\" style={{borderRadius:\"20px\"}} className=\"form-control\"\n                                               placeholder=\"Enter password\" />\n                                    </div>\n\n                                    <Button variant=\"success\" type=\"submit\" className='my-3'>Sign in</Button>\n                                    {error && (\n                <p style={{ color: \"red\", letterSpacing: \"1px\",marginTop:\"5px\" }}>\n                  input fields cannot be empty\n                </p>\n              )}\n               {loginError && (\n                <p style={{ color: \"red\", letterSpacing: \"1px\",marginTop:\"3px\" }}>\n                  Invalid Email or Password\n                </p>\n              )}\n                                   <p style={{ letterSpacing: \"1px\", margin: \"3px 0\",marginTop:\"5rem \",color:\"#fff\" ,textAlign:\"center\"}}>\n                Not have an account?\n                <Link\n                  to=\"/registration\"\n                  style={{ color: \"lightBlue\", textDecoration: \"none\" }}\n                >\n                  Register!\n                </Link>\n              </p>\n                                </form>\n                           \n\n\n                        </Row>\n                    </Container>\n                </div>\n\n\n            </Container>\n\n\n        </Fragment>\n    )\n\n}\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}